<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Export MAGE Logo as PNG</title>
  <style>
    body { font-family: system-ui; background: #111; color: #fff; padding: 24px; text-align: center; }
    canvas { display: none; }
    .preview { margin: 20px 0; }
    .preview img { max-width: 200px; border-radius: 50%; border: 1px solid #333; }
    a.dl { display: inline-block; margin: 12px; padding: 14px 28px; background: #fff; color: #000; text-decoration: none; border-radius: 8px; font-weight: 600; }
    a.dl:hover { opacity: 0.9; }
    p { color: #888; max-width: 360px; margin: 0 auto 16px; }
  </style>
</head>
<body>
  <h1>MAGE Logo → PNG</h1>
  <p>Click the button below to download the logo as PNG (400×400). Save the file to this folder (<strong>assets/</strong>) as <strong>logo-mage.png</strong>, then run <strong>scripts/add-logo-png-to-git.ps1</strong> in the project root to add it to Git and push.</p>
  <div class="preview"><img id="preview" alt="Preview"></div>
  <a id="download" class="dl" href="#" download="logo-mage.png">Download logo-mage.png</a>
  <button type="button" id="copyBase64" class="dl" style="margin-left:8px">Copy PNG base64 (for script)</button>
  <canvas id="c" width="400" height="400"></canvas>

  <script>
    (function() {
      const svg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><defs><filter id="f"><feGaussianBlur stdDeviation="0.4" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><circle cx="100" cy="100" r="98" fill="#000" stroke="rgba(255,255,255,0.06)" stroke-width="1"/><g opacity="0.2" fill="none" stroke="#333" stroke-width="1"><path d="M55 50 L65 50 L65 60" transform="rotate(-15 60 55)"/><path d="M135 48 L145 48 L145 58" transform="rotate(12 140 53)"/><path d="M50 140 L58 140 L58 148" transform="rotate(-20 54 144)"/><path d="M142 138 L150 138 L150 146" transform="rotate(18 146 142)"/></g><path fill="none" stroke="#fff" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round" filter="url(#f)" d="M58 58 Q68 38 78 50 Q88 36 100 48 Q112 36 122 50 Q132 38 142 58 L138 66 Q132 70 100 72 Q68 70 62 66 Z M72 66 L72 70 M88 66 L88 71 M100 66 L100 71 M112 66 L112 71 M128 66 L128 70"/><g fill="#fff" font-size="11" opacity="0.95"><text x="128" y="42">♠</text><text x="138" y="46">♥</text><text x="148" y="42">♣</text><text x="158" y="46">♦</text></g><path fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" opacity="0.9" filter="url(#f)" d="M42 92 Q28 80 22 68 Q30 78 38 86 Q36 76 42 92 Z"/><path fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" opacity="0.9" filter="url(#f)" d="M158 92 Q172 80 178 68 Q170 78 162 86 Q164 76 158 92 Z"/><g fill="#fff" filter="url(#f)"><path d="M46 98 L46 76 L54 92 L62 76 L62 98" stroke="#fff" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/><path d="M68 98 L80 76 L92 98" stroke="#fff" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/><path d="M100 76 Q108 76 112 84 Q112 94 104 98 Q96 98 96 90 Q96 84 102 86" stroke="#fff" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/><path d="M120 76 L120 98 M120 76 L136 76 M120 87 L130 87 M120 98 L136 98" stroke="#fff" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g><path d="M46 114 Q62 118 78 112 Q94 118 110 112 Q126 118 142 112 Q158 118 154 114" fill="none" stroke="#fff" stroke-width="1.8" stroke-linecap="round" opacity="0.9"/></svg>`;
      const img = new Image();
      const canvas = document.getElementById('c');
      const ctx = canvas.getContext('2d');
      let dataUrl = '';
      img.onload = function() {
        ctx.drawImage(img, 0, 0, 400, 400);
        dataUrl = canvas.toDataURL('image/png');
        document.getElementById('preview').src = dataUrl;
        document.getElementById('download').href = dataUrl;
      };
      img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svg)));
      document.getElementById('copyBase64').onclick = function() {
        const base64 = dataUrl ? dataUrl.replace(/^data:image\/png;base64,/, '') : '';
        if (!base64) return alert('Wait for preview to load.');
        navigator.clipboard.writeText(base64).then(function() { alert('Base64 copied. Paste into assets/logo-mage-base64.txt and run scripts/add-logo-png-to-git.ps1'); }, function() { prompt('Copy this base64 (save to assets/logo-mage-base64.txt):', base64); });
      };
    })();
  </script>
</body>
</html>
